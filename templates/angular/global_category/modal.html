<nc-alert nc-model="alert"></nc-alert>
<div class="modal-header">
	<button type="button" class="close" ng-click="cancel()"><span aria-hidden="true">&times;</span></button>
	<h3 class="modal-title">Global Category Detail</h3>
</div>
<div class="modal-body margin-top-20">
	<form class="ah-form" name="form" novalidate>
		<div class="row">
			<div class="col-xs-12">
				<div class="form-section">
					<div class="form-section-header">
						<h2>Global Category Information</h2>
					</div>
					<div class="form-section-content modal-custom">
		                <div ng-template="common/input/text2"
			                ng-template-options="{
			                  'label': 'Category Name (Thai)',
			                  'labelClass': 'required',
			                  'error' : {
			                        'messages': {
			                          'required': 'This is a required field'
			                        },
			                        'show': isInvalid(form.NameTh),
			                        'conditions' : form.NameTh.$error
			                   }
			                }">
							<input
							 class="form-control"
							 name="NameTh"
							 ng-model="formData.NameTh"
							 ng-class="{ 'has-error' : isInvalid(form.NameTh) }"
							 maxlength="100"
							 required />
		                </div>
		                <div ng-template="common/input/text2"
			                ng-template-options="{
			                  'label': 'Category Name (Eng)',
			                  'labelClass': 'required',
			                  'error' : {
			                        'messages': {
			                          'required': 'This is a required field',
			                          'pattern': 'Only English allowed'
			                        },
			                        'show': isInvalid(form.NameEn),
			                        'conditions' : form.NameEn.$error
			                   }
			                }">
							<input
							 class="form-control"
							 name="NameEn"
							 ng-model="formData.NameEn"
							 ng-class="{ 'has-error' : isInvalid(form.NameEn) }"
							 ng-pattern="/^[^ก-๙]+$/"
							 maxlength="100"
							 required />
		                </div>
	                    <div ng-template="common/input/text2"
	                      ng-template-options="{
	                        'label': 'URL (Eng)',
	                        'error' : {
	                              'messages': {
	                                'pattern': 'Only English letters, numbers,  &quot;- &quot;, and   &quot;_&quot;; allowed. Space is not allowed'
	                                },
	                              'show': isInvalid(form.UrlKeyEn),
	                              'conditions' : form.UrlKeyEn.$error
	                         }
	                      }">
	                      <input
	                        class="form-control"
	                        name="UrlKeyEn"
	                        ng-model="formData.UrlKeyEn"
	                        ng-pattern="/^[A-Za-z0-9_\-]+$/"
	                        ng-class="{ 'has-error' : isInvalid(form.UrlKeyEn) }"
	                        maxlength="300"
	                        />
	                    </div>
						<div ng-template="common/input/text2"
							ng-template-options="{
							'label': 'Commission (%)',
							'labelClass': 'required',
							'error' : {
							'messages': {
			                    'required': 'This is a required field',
								'pattern': 'Only numbers and decimals (up to 2 digits) allowed',
								'minnumber': 'Please enter between 0% and 100%',
								'maxnumber': 'Please enter between 0% and 100%'
							},
							'show': isInvalid(form.Commission),
							'conditions' : form.Commission.$error
							}
							}">
							<input
							class="form-control"
							name="Commission"
							ng-model="formData.Commission"
							ng-pattern="/^[\w]+(\.\w{0,2})?$/"
							ng-pattern-restrict="^[0-9]*(\.[0-9]*)?$"
							ng-class="{ 'has-error' : isInvalid(form.Commission) }"
							maxlength="20"
							ng-maxnumber="100",
							ng-minnumber="0"
							required
							/>
						</div>
					</div>
				</div>
				<div class="form-section">
					<div class="form-section-header">
						<h2>Map Attribute Set</h2>
					</div>
					<div class="form-section-content modal-custom">
						<div nc-tradable-select nc-test="lockAttributeset" nc-model="formData.AttributeSets" nc-select-options="attributeSetOptions" nc-options="{ 'map' : { 'text': 'AttributeSetNameEn', 'value' : 'AttributeSetId' } }"></div> 
						<div class="row col-xs-12">
		                  <p style="margin-left: 30px; margin-top:15px"><span class="color-red">*</span> If category is mapped to a product, attribute set mapping cannot be changed</p>
		                </div>
					</div>
				</div>
	            <div class="form-section">
	                <div class="form-section-header"><h2>Category Visibility</h2></div>
	                <div class="form-section-content modal-custom">
	                    <div ng-template="common/input/multiline-radio" 
	                    	ng-template-options="{ 'label' : 'Visibility' }">
	                    	<label ng-repeat="choice in statusOptions"><input type="radio" ng-model="formData.Visibility" ng-value="choice.value"/>{{choice.text}}</label>
	                	</div>
	                </div>
	            </div>
			</div> <!-- end .col-xs-12 -->
			<div class="col-xs-12">
				<span class="float-right">
					<a class="link-btn-plain" ng-click="cancel()">Cancel</a>
					<button class="btn btn-blue btn-width-xl" ng-click="save()">Save</button>
				</span>
			</div> <!-- end .col-xs-12 -->
		</div> <!-- end .row -->
	</form>
</div> <!-- end .modal-body -->